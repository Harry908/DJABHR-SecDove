@startuml
title Client Component Overview (Minimal)

legend top
  Minimal client modules with explicit APIs and shared utilities.
  Mirrors the simplified implementation.
endlegend

component AuthContext
component ContactsContext
component ConversationsContext
component MessagesContext
component WebSocketContext
component ViewContext

package "APIs" {
  component AuthAPI <<api>>
  component ContactsAPI <<api>>
  component ConversationsAPI <<api>>
  component MessagesAPI <<api>>
}

component CryptoUtils <<crypto>>
component KeyStore <<storage>>
component MessageStorage <<storage>>
component MessageBackup <<storage>>

AuthContext --> AuthAPI
AuthContext --> CryptoUtils
AuthContext --> KeyStore
ContactsContext --> ContactsAPI
ConversationsContext --> ContactsAPI
ConversationsContext --> ConversationsAPI
ConversationsContext --> CryptoUtils
MessagesContext --> MessagesAPI
MessagesContext --> CryptoUtils
MessagesContext --> WebSocketContext
MessageBackup --> MessageStorage

note right of AuthAPI
  Implemented in src/utils/api.js
end note
note right of CryptoUtils
  src/utils/crypto.js (Web Crypto only)
end note
note right of MessageStorage
  src/utils/messageStorage.js
end note

@enduml
