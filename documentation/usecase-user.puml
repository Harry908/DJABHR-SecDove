@startuml
title SecureDove â€“ User Use Cases (Comprehensive)

actor User

rectangle "Authentication" {
  usecase U1 as "Register (RSA keypair, encrypt private key)"
  usecase U2 as "Check Username Availability"
  usecase U3 as "Login (decrypt private key)"
  usecase U4 as "Logout"
}

rectangle "Contacts" {
  usecase U5 as "Add Contact"
  usecase U6 as "List Contacts"
  usecase U7 as "Remove Contact"
  usecase U8 as "Fetch Contact Public Key"
}

rectangle "Conversations" {
  usecase U9 as "Create Conversation (wrap content key per participant)"
  usecase U10 as "List Conversations"
  usecase U11 as "Open Conversation"
  usecase U12 as "Delete Conversation (leave)"
  usecase U13 as "Add Participants (share history)"
  usecase U14 as "Add Participants (rotate key)"
}

rectangle "Messaging" {
  usecase U15 as "Send Message (AES-GCM)"
  usecase U16 as "Receive Real-time Message"
  usecase U17 as "Load Message History"
  usecase U18 as "Edit Message"
  usecase U19 as "Delete Message"
}

rectangle "Realtime" {
  usecase U20 as "Join Conversation Channel"
  usecase U21 as "Leave Conversation Channel"
  usecase U22 as "Receive System Events (participants/key)"
}

rectangle "Backup & Local Data" {
  usecase U23 as "Create/Export Backup (encrypted content)"
  usecase U24 as "Import/Restore Backup"
  usecase U25 as "Clear Local Messages"
}

User --> U1
User --> U2
User --> U3
User --> U4

User --> U5
User --> U6
User --> U7
User --> U8

User --> U9
User --> U10
User --> U11
User --> U12
User --> U13
User --> U14

User --> U15
User --> U16
User --> U17
User --> U18
User --> U19

User --> U20
User --> U21
User --> U22

User --> U23
User --> U24
User --> U25

note bottom
Features reflect current code: E2EE key lifecycle, contacts, conversations with
participant management (share history or rotate key), messaging with realtime updates,
and client-side backup/restore of encrypted payloads.
end note

@enduml

